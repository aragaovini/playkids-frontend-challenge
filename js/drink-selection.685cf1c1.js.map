{"version":3,"sources":["webpack:///./src/views/order/children/DrinkSelection.vue?cdd6","webpack:///./src/views/order/children/DrinkSelection.vue?ec5c","webpack:///src/views/order/children/DrinkSelection.vue","webpack:///./src/views/order/children/DrinkSelection.vue?d8d6","webpack:///./src/views/order/children/DrinkSelection.vue?841a"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","model","value","callback","$$v","searchTerm","expression","filteredList","on","item","handleChosenItem","staticClass","back","_v","newOrder","items","length","next","staticRenderFns","name","components","CItemsPicker","CButton","CInput","computed","orderedList","filter","includes","data","created","customerIdentification","$store","commit","drinkList","dispatch","$router","push","methods","itemId","id","selected","component"],"mappings":"mHAAA,W,gECAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQ,qBAAqBC,MAAM,CAACC,MAAOR,EAAc,WAAES,SAAS,SAAUC,GAAMV,EAAIW,WAAWD,GAAKE,WAAW,gBAAgBR,EAAG,iBAAiB,CAACE,MAAM,CAAC,KAAON,EAAIa,cAAcC,GAAG,CAAC,aAAe,SAAUC,GAAQ,OAAOf,EAAIgB,iBAAiBD,OAAYX,EAAG,MAAM,CAACa,YAAY,qBAAqB,CAACb,EAAG,WAAW,CAACU,GAAG,CAAC,MAAQd,EAAIkB,OAAO,CAAClB,EAAImB,GAAG,UAAUf,EAAG,WAAW,CAACE,MAAM,CAAC,UAAYN,EAAIoB,SAASC,MAAMC,QAAQR,GAAG,CAAC,MAAQd,EAAIuB,OAAO,CAACvB,EAAImB,GAAG,WAAW,IAAI,IAC/kBK,EAAkB,G,kHCqBtB,GACEC,KAAM,gBAENC,WAAY,CACVC,aAAJ,OACIC,QAAJ,OACIC,OAAJ,QAGEC,SAAU,OAAZ,OAAY,CAAZ,iCACA,gDACA,sCAFA,IAIIjB,aAJJ,WAIA,WACA,iCACA,+BACA,gCAGM,OAAKZ,KAAKU,WAEHoB,EAAYC,QAAO,SAAhC,GACQ,IAAR,uBACQ,OAAOP,EAAKQ,SAAS,EAA7B,6BAJmCF,KASjCG,KAAM,WAAR,OACA,gBAGEC,QAhCF,WAiCSlC,KAAKmB,SAASgB,wBAKnBnC,KAAKoC,OAAOC,OAAO,uBAAwB,sBACtCrC,KAAKsC,UAAUjB,QAAQrB,KAAKoC,OAAOG,SAAS,uBAL/CvC,KAAKwC,QAAQC,KAAK,oBAQtBC,QAAS,CACP3B,iBADJ,SACA,GACMf,KAAKoC,OAAOC,OAAO,gBAAiBvB,GACpCd,KAAKoC,OAAOC,OAAO,iCAAkC,CACnDM,OAAQ7B,EAAK8B,GACbC,UAAU,KAIdvB,KATJ,WAUWtB,KAAKmB,SAASC,MAAMC,QAGzBrB,KAAKwC,QAAQC,KAAK,mBAEpBxB,KAfJ,WAgBMjB,KAAKwC,QAAQC,KAAK,kBChF8V,I,wBCQlXK,EAAY,eACd,EACAhD,EACAyB,GACA,EACA,KACA,WACA,MAIa,aAAAuB,E","file":"js/drink-selection.685cf1c1.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrinkSelection.vue?vue&type=style&index=0&id=7e84c436&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('c-input',{attrs:{\"label\":\"Search your drink\"},model:{value:(_vm.searchTerm),callback:function ($$v) {_vm.searchTerm=$$v},expression:\"searchTerm\"}}),_c('c-items-picker',{attrs:{\"list\":_vm.filteredList},on:{\"onItemChosen\":function (item) { return _vm.handleChosenItem(item); }}}),_c('div',{staticClass:\"actions-container\"},[_c('c-button',{on:{\"click\":_vm.back}},[_vm._v(\"Back\")]),_c('c-button',{attrs:{\"disabled\":!_vm.newOrder.items.length},on:{\"click\":_vm.next}},[_vm._v(\"Next\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <c-input label=\"Search your drink\" v-model=\"searchTerm\" />\n\n    <c-items-picker\n      :list=\"filteredList\"\n      @onItemChosen=\"item => handleChosenItem(item)\"\n    />\n\n    <div class=\"actions-container\">\n      <c-button @click=\"back\">Back</c-button>\n      <c-button @click=\"next\" :disabled=\"!newOrder.items.length\">Next</c-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapState } from 'vuex';\nimport CItemsPicker from '@/components/organisms/c-items-picker/CItemsPicker';\nimport CButton from '@/components/atoms/c-button/CButton';\nimport CInput from '@/components/atoms/c-input/CInput';\n\nexport default {\n  name: 'ItemSelection',\n\n  components: {\n    CItemsPicker,\n    CButton,\n    CInput\n  },\n\n  computed: {\n    ...mapGetters('restaurantMenu', ['drinkList']),\n    ...mapState('order', ['newOrder']),\n\n    filteredList() {\n      const list = [...this.drinkList];\n      const orderedList = list.sort((firstItem, nextItem) =>\n        firstItem.name.localeCompare(nextItem.name)\n      );\n\n      if (!this.searchTerm) return orderedList;\n\n      return orderedList.filter(drink => {\n        const name = drink.name.toLowerCase();\n        return name.includes(this.searchTerm.toLowerCase());\n      });\n    }\n  },\n\n  data: () => ({\n    searchTerm: ''\n  }),\n\n  created() {\n    if (!this.newOrder.customerIdentification) {\n      this.$router.push('/order/customer');\n      return;\n    }\n\n    this.$store.commit('order/setCurrentStep', 'Choose your drinks');\n    if (!this.drinkList.length) this.$store.dispatch('restaurantMenu/get');\n  },\n\n  methods: {\n    handleChosenItem(item) {\n      this.$store.commit('order/setItem', item);\n      this.$store.commit('restaurantMenu/setItemSelected', {\n        itemId: item.id,\n        selected: true\n      });\n    },\n\n    next() {\n      if (!this.newOrder.items.length) {\n        return;\n      }\n      this.$router.push('/order/payment');\n    },\n    back() {\n      this.$router.push('/order/food');\n    }\n  }\n};\n</script>\n\n<style scoped lang=\"scss\">\n@use '../../../assets/styles/sizes' as *;\n\n.actions-container {\n  display: flex;\n  justify-content: space-between;\n  margin-top: $size-md;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrinkSelection.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrinkSelection.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DrinkSelection.vue?vue&type=template&id=7e84c436&scoped=true&\"\nimport script from \"./DrinkSelection.vue?vue&type=script&lang=js&\"\nexport * from \"./DrinkSelection.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DrinkSelection.vue?vue&type=style&index=0&id=7e84c436&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7e84c436\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}