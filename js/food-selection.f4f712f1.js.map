{"version":3,"sources":["webpack:///./src/views/order/children/FoodSelection.vue?4548","webpack:///./src/views/order/children/FoodSelection.vue?0419","webpack:///src/views/order/children/FoodSelection.vue","webpack:///./src/views/order/children/FoodSelection.vue?ca0b","webpack:///./src/views/order/children/FoodSelection.vue?2833"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","model","value","callback","$$v","searchTerm","expression","filteredList","on","item","handleChosenItem","staticClass","back","_v","next","staticRenderFns","name","components","CItemsPicker","CButton","CInput","computed","orderedList","filter","includes","data","methods","$store","commit","itemId","id","selected","$router","push","component"],"mappings":"kHAAA,W,2CCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQ,oBAAoBC,MAAM,CAACC,MAAOR,EAAc,WAAES,SAAS,SAAUC,GAAMV,EAAIW,WAAWD,GAAKE,WAAW,gBAAgBR,EAAG,iBAAiB,CAACE,MAAM,CAAC,KAAON,EAAIa,cAAcC,GAAG,CAAC,aAAe,SAAUC,GAAQ,OAAOf,EAAIgB,iBAAiBD,OAAYX,EAAG,MAAM,CAACa,YAAY,qBAAqB,CAACb,EAAG,WAAW,CAACU,GAAG,CAAC,MAAQd,EAAIkB,OAAO,CAAClB,EAAImB,GAAG,UAAUf,EAAG,WAAW,CAACU,GAAG,CAAC,MAAQd,EAAIoB,OAAO,CAACpB,EAAImB,GAAG,WAAW,IAAI,IAChiBE,EAAkB,G,wICoBtB,GACEC,KAAM,gBAENC,WAAY,CACVC,aAAJ,OACIC,QAAJ,OACIC,OAAJ,QAGEC,SAAU,OAAZ,OAAY,CAAZ,iCACA,+CACA,sCAFA,IAGId,aAHJ,WAGA,WACA,gCACA,+BACA,gCAGM,OAAKZ,KAAKU,WAEHiB,EAAYC,QAAO,SAAhC,GACQ,IAAR,uBACQ,OAAOP,EAAKQ,SAAS,EAA7B,6BAJmCF,KASjCG,KAAM,WAAR,OACA,gBAGE,QA/BF,WA+BA,2JACA,kCADA,uBAEA,kCAFA,0BAMA,4DACA,mBACA,gBARA,8CAYEC,QAAS,CACP,YADJ,WACA,wKAEA,oCAFA,SAGA,wCAHA,yDAKA,+BACA,cACA,eAPA,uBAUA,oCAVA,6EAcIhB,iBAfJ,SAeA,GACMf,KAAKgC,OAAOC,OAAO,gBAAiBnB,GACpCd,KAAKgC,OAAOC,OAAO,iCAAkC,CACnDC,OAAQpB,EAAKqB,GACbC,UAAU,KAIdjB,KAvBJ,WAwBMnB,KAAKqC,QAAQC,KAAK,iBAEpBrB,KA1BJ,WA2BMjB,KAAKqC,QAAQC,KAAK,sBC3F6V,I,wBCQjXC,EAAY,eACd,EACAzC,EACAsB,GACA,EACA,KACA,WACA,MAIa,aAAAmB,E","file":"js/food-selection.f4f712f1.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FoodSelection.vue?vue&type=style&index=0&id=33a45e54&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('c-input',{attrs:{\"label\":\"Search your food\"},model:{value:(_vm.searchTerm),callback:function ($$v) {_vm.searchTerm=$$v},expression:\"searchTerm\"}}),_c('c-items-picker',{attrs:{\"list\":_vm.filteredList},on:{\"onItemChosen\":function (item) { return _vm.handleChosenItem(item); }}}),_c('div',{staticClass:\"actions-container\"},[_c('c-button',{on:{\"click\":_vm.back}},[_vm._v(\"Back\")]),_c('c-button',{on:{\"click\":_vm.next}},[_vm._v(\"Next\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <c-input label=\"Search your food\" v-model=\"searchTerm\" />\n\n    <c-items-picker\n      :list=\"filteredList\"\n      @onItemChosen=\"item => handleChosenItem(item)\"\n    />\n    <div class=\"actions-container\">\n      <c-button @click=\"back\">Back</c-button>\n      <c-button @click=\"next\">Next</c-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapState } from 'vuex';\nimport CItemsPicker from '@/components/organisms/c-items-picker/CItemsPicker';\nimport CButton from '@/components/atoms/c-button/CButton';\nimport CInput from '@/components/atoms/c-input/CInput';\n\nexport default {\n  name: 'ItemSelection',\n\n  components: {\n    CItemsPicker,\n    CButton,\n    CInput\n  },\n\n  computed: {\n    ...mapGetters('restaurantMenu', ['foodList']),\n    ...mapState('order', ['newOrder']),\n    filteredList() {\n      const list = [...this.foodList];\n      const orderedList = list.sort((firstItem, nextItem) =>\n        firstItem.name.localeCompare(nextItem.name)\n      );\n\n      if (!this.searchTerm) return orderedList;\n\n      return orderedList.filter(food => {\n        const name = food.name.toLowerCase();\n        return name.includes(this.searchTerm.toLowerCase());\n      });\n    }\n  },\n\n  data: () => ({\n    searchTerm: ''\n  }),\n\n  async created() {\n    if (!this.newOrder.customerIdentification) {\n      this.$router.push('/order/customer');\n      return;\n    }\n\n    this.$store.commit('order/setCurrentStep', 'Choose your foods');\n    if (!this.foodList.length) {\n      this.getMenuList();\n    }\n  },\n\n  methods: {\n    async getMenuList() {\n      try {\n        this.$store.commit('setAppLoading', true);\n        await this.$store.dispatch('restaurantMenu/get');\n      } catch (error) {\n        this.$store.commit('toggleToast', {\n          color: 'error',\n          message: error\n        });\n      } finally {\n        this.$store.commit('setAppLoading', false);\n      }\n    },\n\n    handleChosenItem(item) {\n      this.$store.commit('order/setItem', item);\n      this.$store.commit('restaurantMenu/setItemSelected', {\n        itemId: item.id,\n        selected: true\n      });\n    },\n\n    next() {\n      this.$router.push('/order/drink');\n    },\n    back() {\n      this.$router.push('/order/customer');\n    }\n  }\n};\n</script>\n\n<style scoped lang=\"scss\">\n@use '../../../assets/styles/sizes' as *;\n\n.actions-container {\n  display: flex;\n  justify-content: space-between;\n  margin-top: $size-md;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FoodSelection.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FoodSelection.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FoodSelection.vue?vue&type=template&id=33a45e54&scoped=true&\"\nimport script from \"./FoodSelection.vue?vue&type=script&lang=js&\"\nexport * from \"./FoodSelection.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FoodSelection.vue?vue&type=style&index=0&id=33a45e54&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"33a45e54\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}